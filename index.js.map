{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY ='54227747-d3c13079e82325bc2c9b382ac'\n\nexport async function getImagesByQuery(query) { \n    const response = await axios.get(BASE_URL, {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            satisfies: 'true',\n        },\n    });\n\n    return response.data;\n}","import SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loaderText = document.querySelector('.loader-text');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function createGallery(images) {\n    const markup = images \n    .map(\n        image => `\n        <li>\n        <a href=\"${image.largeImageURL}\"> \n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n            <p><b>Likes:</b> ${image.likes}</p>\n            <p><b>Views:</b> ${image.views}</p>\n            <p><b>Comments:</b> ${image.comments}</p>\n            <p><b>Downloads:</b> ${image.downloads}</p>\n        </div>\n        </a>\n        </li>`\n    )\n    .join('');\n    \n    gallery.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}\n\n\nexport function showLoader() {\n    loader.classList.add('is-visible');\n    loaderText.classList.add('is-visible');\n}\n\nexport function hideLoader() {\n    loader.classList.remove('is-visible');\n    loaderText.classList.remove('is-visible');\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n \nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n    event.preventDefault();\n\n    const query = event.target.elements['search-text'].value.trim();\n\n    if (!query) {\n        iziToast.warning({\n            message: 'Please enter a search query.',\n            position: 'topRight',\n        });\n        return;\n    }\n    clearGallery();\n    showLoader();\n\n    try {\n        const data= await getImagesByQuery(query);\n\n     if (!data.hits.length){\n            iziToast.error({\n                message: 'Sorry, there are no images matching <br>yoursearch query. Please, try again!',\n                position: 'topRight',\n                backgroundColor: '#e74c3c',\n    messageColor: '#ffffff',\n    iconColor: '#ffffff',\n    icon: 'ico-error', \n    theme: 'dark',\n    close: true,\n    closeColor: '#ffffff',\n            });\n            return;\n}\n\n    createGallery(data.hits.slice(0, 9));\n\n    } catch (error) {\n        iziToast.error({\n            message: 'Sorry, there are no images matching <br>your search query. Please, try again!',\n            position: 'topRight',\n            backgroundColor: '#e74c3c',\n    messageColor: '#ffffff',\n    iconColor: '#ffffff',\n    icon: 'ico-error', \n    theme: 'dark',\n    close: true,\n    closeColor: '#ffffff',\n        });\n        console.error('Error fetching images:', error);\n    } finally {\n        hideLoader();\n    }\n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","axios","gallery","loader","loaderText","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","form","onSearch","event","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAS,qCAER,eAAeC,EAAiBC,EAAO,CAW1C,OAViB,MAAMC,EAAM,IAAIJ,EAAU,CACvC,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,UAAW,MACd,CACT,CAAK,GAEe,IACpB,CCdA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EACd,IACGE,GAAS;AAAA;AAAA,mBAEEA,EAAM,aAAa;AAAA,oBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,+BAE3BA,EAAM,KAAK;AAAA,+BACXA,EAAM,KAAK;AAAA,kCACRA,EAAM,QAAQ;AAAA,mCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,cAI7C,EACA,KAAK,EAAE,EAERR,EAAQ,mBAAmB,YAAaO,CAAM,EAC9CJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BT,EAAQ,UAAY,EACxB,CAGO,SAASU,GAAa,CACzBT,EAAO,UAAU,IAAI,YAAY,EACjCC,EAAW,UAAU,IAAI,YAAY,CACzC,CAEO,SAASS,GAAa,CACzBV,EAAO,UAAU,OAAO,YAAY,EACpCC,EAAW,UAAU,OAAO,YAAY,CAC5C,CCvCA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,eAAeA,EAASC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMhB,EAAQgB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzD,GAAI,CAAChB,EAAO,CACRiB,EAAS,QAAQ,CACb,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CACDN,IACAC,IAEA,GAAI,CACA,MAAMM,EAAM,MAAMnB,EAAiBC,CAAK,EAE3C,GAAI,CAACkB,EAAK,KAAK,OAAO,CACfD,EAAS,MAAM,CACX,QAAS,+EACT,SAAU,WACV,gBAAiB,UAC7B,aAAc,UACd,UAAW,UACX,KAAM,YACN,MAAO,OACP,MAAO,GACP,WAAY,SAChB,CAAa,EACD,MACZ,CAEIV,EAAcW,EAAK,KAAK,MAAM,EAAG,CAAC,CAAC,CAElC,OAAQC,EAAO,CACZF,EAAS,MAAM,CACX,QAAS,gFACT,SAAU,WACV,gBAAiB,UACzB,aAAc,UACd,UAAW,UACX,KAAM,YACN,MAAO,OACP,MAAO,GACP,WAAY,SAChB,CAAS,EACD,QAAQ,MAAM,yBAA0BE,CAAK,CACrD,QAAc,CACNN,GACH,CACL"}